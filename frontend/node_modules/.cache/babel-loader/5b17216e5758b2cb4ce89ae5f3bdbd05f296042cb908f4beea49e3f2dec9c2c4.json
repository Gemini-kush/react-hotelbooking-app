{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Container,Row,Col,Card,Button,Spinner}from\"react-bootstrap\";import\"@fortawesome/fontawesome-free/css/all.min.css\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import\"./css/RoomSection.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RoomsSection(){const[rooms,setRooms]=useState([]);const[loading,setLoading]=useState(true);const navigate=useNavigate();// ✅ Fetch rooms from database\nuseEffect(()=>{const fetchRooms=async()=>{try{const res=await axios.get(\"http://localhost:5000/api/rooms\");if(res.data.success&&Array.isArray(res.data.data)){setRooms(res.data.data);}else{console.error(\"Invalid data format:\",res.data);}}catch(error){console.error(\"Error fetching rooms:\",error);}finally{setLoading(false);}};fetchRooms();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"py-5\",style:{backgroundColor:\"#fff\"},children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"fw-bold mb-4\",children:\"Our Rooms\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-5\",children:\"Choose from our selection of comfortable and elegant rooms\"})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-5\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"warning\"})}):/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:rooms.length>0?rooms.map((room,index)=>/*#__PURE__*/_jsx(Col,{md:4,className:\"mb-4 d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(Card,{className:\"room-card border-1 shadow-sm rounded-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:room.image,alt:room.name||\"Room\",className:\"room-image rounded-top-4\",loading:\"lazy\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price-badge position-absolute top-0 end-0 m-3 px-3 py-1 rounded-3\",children:[\"\\u20B9\",room.price,\"/night\"]})]}),/*#__PURE__*/_jsxs(Card.Body,{className:\"text-center\",children:[/*#__PURE__*/_jsx(Card.Title,{className:\"fw-semibold\",children:room.type||\"Room\"}),/*#__PURE__*/_jsx(Card.Text,{className:\"text-muted mb-2\",children:room.description||\"Comfortable room with modern amenities\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-warning mb-3\",children:Array.from({length:5}).map((_,i)=>/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-star\"},i))}),/*#__PURE__*/_jsx(Button,{className:\"w-100 rounded-3 border-0\",style:{backgroundColor:\"#F54900\",fontWeight:\"500\"},onClick:()=>navigate(\"/booking\"),children:\"Book Now\"})]})]})},index)):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-muted\",children:\"No rooms available at the moment.\"})})]})});}export default RoomsSection;","map":{"version":3,"names":["React","useEffect","useState","Container","Row","Col","Card","Button","Spinner","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","RoomsSection","rooms","setRooms","loading","setLoading","navigate","fetchRooms","res","get","data","success","Array","isArray","console","error","className","style","backgroundColor","children","animation","variant","length","map","room","index","md","Img","src","image","alt","name","price","Body","Title","type","Text","description","from","_","i","fontWeight","onClick"],"sources":["C:/Users/kusha/OneDrive/Desktop/react-hotelbooking-app/frontend/src/components/RoomsSection.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Container, Row, Col, Card, Button, Spinner } from \"react-bootstrap\";\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./css/RoomSection.css\";\r\n\r\nfunction RoomsSection() {\r\n  const [rooms, setRooms] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  // ✅ Fetch rooms from database\r\n  useEffect(() => {\r\n    const fetchRooms = async () => {\r\n      try {\r\n        const res = await axios.get(\"http://localhost:5000/api/rooms\");\r\n        if (res.data.success && Array.isArray(res.data.data)) {\r\n          setRooms(res.data.data);\r\n        } else {\r\n          console.error(\"Invalid data format:\", res.data);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching rooms:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchRooms();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"py-5\" style={{ backgroundColor: \"#fff\" }}>\r\n      <Container>\r\n        <div className=\"text-center mb-4\">\r\n          <h3 className=\"fw-bold mb-4\">Our Rooms</h3>\r\n          <p className=\"text-muted mb-5\">\r\n            Choose from our selection of comfortable and elegant rooms\r\n          </p>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div className=\"text-center py-5\">\r\n            <Spinner animation=\"border\" variant=\"warning\" />\r\n          </div>\r\n        ) : (\r\n          <Row className=\"justify-content-center\">\r\n            {rooms.length > 0 ? (\r\n              rooms.map((room, index) => (\r\n                <Col\r\n                  key={index}\r\n                  md={4}\r\n                  className=\"mb-4 d-flex justify-content-center\"\r\n                >\r\n                  <Card className=\"room-card border-1 shadow-sm rounded-4\">\r\n                    <div className=\"position-relative\">\r\n                      <Card.Img\r\n                        variant=\"top\"\r\n                        src={room.image}\r\n                        alt={room.name || \"Room\"}\r\n                        className=\"room-image rounded-top-4\"\r\n                        loading=\"lazy\"\r\n                      />\r\n                      <div className=\"price-badge position-absolute top-0 end-0 m-3 px-3 py-1 rounded-3\">\r\n                        ₹{room.price}/night\r\n                      </div>\r\n                    </div>\r\n\r\n                    <Card.Body className=\"text-center\">\r\n                      <Card.Title className=\"fw-semibold\">\r\n                        {room.type || \"Room\"}\r\n                      </Card.Title>\r\n                      <Card.Text className=\"text-muted mb-2\">\r\n                        {room.description ||\r\n                          \"Comfortable room with modern amenities\"}\r\n                      </Card.Text>\r\n                      <div className=\"text-warning mb-3\">\r\n                        {Array.from({ length: 5 }).map((_, i) => (\r\n                          <i key={i} className=\"fa-solid fa-star\"></i>\r\n                        ))}\r\n                      </div>\r\n                      <Button\r\n                        className=\"w-100 rounded-3 border-0\"\r\n                        style={{\r\n                          backgroundColor: \"#F54900\",\r\n                          fontWeight: \"500\",\r\n                        }}\r\n                        onClick={() => navigate(\"/booking\")}\r\n                      >\r\n                        Book Now\r\n                      </Button>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </Col>\r\n              ))\r\n            ) : (\r\n              <p className=\"text-center text-muted\">\r\n                No rooms available at the moment.\r\n              </p>\r\n            )}\r\n          </Row>\r\n        )}\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RoomsSection;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,GAAG,CAAEC,GAAG,CAAEC,IAAI,CAAEC,MAAM,CAAEC,OAAO,KAAQ,iBAAiB,CAC5E,MAAO,+CAA+C,CACtD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/B,QAAS,CAAAC,YAAYA,CAAA,CAAG,CACtB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAAkB,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAE9B;AACAT,SAAS,CAAC,IAAM,CACd,KAAM,CAAAoB,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAb,KAAK,CAACc,GAAG,CAAC,iCAAiC,CAAC,CAC9D,GAAID,GAAG,CAACE,IAAI,CAACC,OAAO,EAAIC,KAAK,CAACC,OAAO,CAACL,GAAG,CAACE,IAAI,CAACA,IAAI,CAAC,CAAE,CACpDP,QAAQ,CAACK,GAAG,CAACE,IAAI,CAACA,IAAI,CAAC,CACzB,CAAC,IAAM,CACLI,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEP,GAAG,CAACE,IAAI,CAAC,CACjD,CACF,CAAE,MAAOK,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CAAC,OAAS,CACRV,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDE,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,mBACET,IAAA,QAAKkB,SAAS,CAAC,MAAM,CAACC,KAAK,CAAE,CAAEC,eAAe,CAAE,MAAO,CAAE,CAAAC,QAAA,cACvDnB,KAAA,CAACX,SAAS,EAAA8B,QAAA,eACRnB,KAAA,QAAKgB,SAAS,CAAC,kBAAkB,CAAAG,QAAA,eAC/BrB,IAAA,OAAIkB,SAAS,CAAC,cAAc,CAAAG,QAAA,CAAC,WAAS,CAAI,CAAC,cAC3CrB,IAAA,MAAGkB,SAAS,CAAC,iBAAiB,CAAAG,QAAA,CAAC,4DAE/B,CAAG,CAAC,EACD,CAAC,CAELf,OAAO,cACNN,IAAA,QAAKkB,SAAS,CAAC,kBAAkB,CAAAG,QAAA,cAC/BrB,IAAA,CAACJ,OAAO,EAAC0B,SAAS,CAAC,QAAQ,CAACC,OAAO,CAAC,SAAS,CAAE,CAAC,CAC7C,CAAC,cAENvB,IAAA,CAACR,GAAG,EAAC0B,SAAS,CAAC,wBAAwB,CAAAG,QAAA,CACpCjB,KAAK,CAACoB,MAAM,CAAG,CAAC,CACfpB,KAAK,CAACqB,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBACpB3B,IAAA,CAACP,GAAG,EAEFmC,EAAE,CAAE,CAAE,CACNV,SAAS,CAAC,oCAAoC,CAAAG,QAAA,cAE9CnB,KAAA,CAACR,IAAI,EAACwB,SAAS,CAAC,wCAAwC,CAAAG,QAAA,eACtDnB,KAAA,QAAKgB,SAAS,CAAC,mBAAmB,CAAAG,QAAA,eAChCrB,IAAA,CAACN,IAAI,CAACmC,GAAG,EACPN,OAAO,CAAC,KAAK,CACbO,GAAG,CAAEJ,IAAI,CAACK,KAAM,CAChBC,GAAG,CAAEN,IAAI,CAACO,IAAI,EAAI,MAAO,CACzBf,SAAS,CAAC,0BAA0B,CACpCZ,OAAO,CAAC,MAAM,CACf,CAAC,cACFJ,KAAA,QAAKgB,SAAS,CAAC,mEAAmE,CAAAG,QAAA,EAAC,QAChF,CAACK,IAAI,CAACQ,KAAK,CAAC,QACf,EAAK,CAAC,EACH,CAAC,cAENhC,KAAA,CAACR,IAAI,CAACyC,IAAI,EAACjB,SAAS,CAAC,aAAa,CAAAG,QAAA,eAChCrB,IAAA,CAACN,IAAI,CAAC0C,KAAK,EAAClB,SAAS,CAAC,aAAa,CAAAG,QAAA,CAChCK,IAAI,CAACW,IAAI,EAAI,MAAM,CACV,CAAC,cACbrC,IAAA,CAACN,IAAI,CAAC4C,IAAI,EAACpB,SAAS,CAAC,iBAAiB,CAAAG,QAAA,CACnCK,IAAI,CAACa,WAAW,EACf,wCAAwC,CACjC,CAAC,cACZvC,IAAA,QAAKkB,SAAS,CAAC,mBAAmB,CAAAG,QAAA,CAC/BP,KAAK,CAAC0B,IAAI,CAAC,CAAEhB,MAAM,CAAE,CAAE,CAAC,CAAC,CAACC,GAAG,CAAC,CAACgB,CAAC,CAAEC,CAAC,gBAClC1C,IAAA,MAAWkB,SAAS,CAAC,kBAAkB,EAA/BwB,CAAmC,CAC5C,CAAC,CACC,CAAC,cACN1C,IAAA,CAACL,MAAM,EACLuB,SAAS,CAAC,0BAA0B,CACpCC,KAAK,CAAE,CACLC,eAAe,CAAE,SAAS,CAC1BuB,UAAU,CAAE,KACd,CAAE,CACFC,OAAO,CAAEA,CAAA,GAAMpC,QAAQ,CAAC,UAAU,CAAE,CAAAa,QAAA,CACrC,UAED,CAAQ,CAAC,EACA,CAAC,EACR,CAAC,EA1CFM,KA2CF,CACN,CAAC,cAEF3B,IAAA,MAAGkB,SAAS,CAAC,wBAAwB,CAAAG,QAAA,CAAC,mCAEtC,CAAG,CACJ,CACE,CACN,EACQ,CAAC,CACT,CAAC,CAEV,CAEA,cAAe,CAAAlB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}